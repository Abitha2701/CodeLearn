:root{
  --bg1:#f5ecff;
  --bg2:#efeaff;
  --ink:#1f1147;
  --ink-soft:#5b4a86;
  --brand:#6c2bd9;        /* purple */
  --brand-2:#8b5cf6;
  --ok:#16a34a;
  --warn:#eab308;
  --card:#ffffffdd;
  --shadow: 0 14px 30px rgba(31,17,71,.14);
}

.course-path{
  --progress: 0%;
  max-width: 980px;
  margin: 32px auto;
  padding: 28px;
  border-radius: 22px;
  background: radial-gradient(1200px 400px at 40% -100px, #ffffffaa, transparent 60%),
              linear-gradient(135deg, var(--bg1), var(--bg2));
  box-shadow: var(--shadow);
  color: var(--ink);
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  position: relative;
  overflow: hidden;
}

/* subtle animated glow */
.course-path::after{
  content:"";
  position:absolute; inset:-60px;
  background: radial-gradient(260px 120px at 90% 10%, #a78bfa40, transparent 55%),
              radial-gradient(300px 140px at 10% 100%, #c084fc30, transparent 60%);
  animation: floatGlow 8s ease-in-out infinite alternate;
  pointer-events:none;
}

@keyframes floatGlow { to { transform: translateY(-6px); filter: hue-rotate(8deg); } }

/* Header */
.course-header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  margin-bottom: 18px;
}
.back-btn{
  background:#fff; border:1px solid #e8def8; padding:10px 14px; border-radius:14px;
  box-shadow: 0 8px 18px rgba(108,43,217,.08);
  cursor:pointer; transition: transform .18s, box-shadow .18s;
}
.back-btn:hover{ transform: translateY(-1px); box-shadow:0 12px 22px rgba(108,43,217,.15); }
.course-header h1{
  font-size: clamp(22px, 3vw, 30px);
  margin:0; letter-spacing:.2px; font-weight:800; color:#381a83;
  text-shadow: 0 2px 8px rgba(87,47,168,.08);
}
.user-info{ opacity:.8; }

/* Progress Row + animated bar */
.progress-row{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  background: var(--card);
  border:1px solid #e9e1ff; border-radius:16px; padding:14px 16px; margin: 6px 0 22px;
  backdrop-filter: blur(6px);
}
.progress-text{ font-weight:600; color:var(--ink-soft); display:flex; align-items:center; gap:8px; }
.progress-text::before{ content:"📊"; }

.progress-bar{
  position: relative; width: 100%; height: 10px; border-radius: 999px;
  background: #efe7ff; overflow:hidden; margin-left:12px; margin-right:12px;
}
.progress-bar > .fill{
  position:absolute; inset:0; width: var(--progress); border-radius:999px;
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  box-shadow: 0 6px 16px rgba(108,43,217,.35);
  transition: width .5s ease;
}

/* Buttons */
.primary-btn{
  background: linear-gradient(90deg, var(--brand), var(--brand-2));
  color:#fff; border:none; padding:10px 14px; border-radius:12px;
  box-shadow: 0 10px 20px rgba(108,43,217,.25);
  text-decoration:none; font-weight:700; letter-spacing:.2px;
  transition: transform .15s ease, box-shadow .2s ease, filter .2s;
}
.primary-btn:hover{ transform: translateY(-1px); box-shadow:0 14px 26px rgba(108,43,217,.32); filter: brightness(1.03); }
.done-badge{
  background:#ecfdf5; color:var(--ok); border:1px solid #bbf7d0;
  padding:8px 12px; border-radius:12px; font-weight:700;
}

/* Modules grid */
.modules-grid{
  display:flex; flex-direction:column; gap:20px;
}
.module-card{
  background: var(--card);
  border:1px solid #ece3ff; border-radius:18px; padding:16px;
  box-shadow: 0 10px 20px rgba(60,10,120,.08);
  animation: fadeInUp .5s ease both;
}
.module-card h2{
  margin: 4px 2px 12px; font-size: clamp(18px, 2.2vw, 24px);
  color:#3b1c91; display:flex; align-items:center; gap:10px;
  text-shadow: 0 1px 6px rgba(123,31,162,.08);
}

/* Items */
.items{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:12px; }
.item{
  position:relative; display:grid; grid-template-columns: 1fr auto; gap:12px; align-items:center;
  padding:12px 14px; border-radius:14px; background:#ffffffcc;
  border:1px solid #eee7ff; box-shadow: 0 8px 16px rgba(108,43,217,.06);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}
.item:hover{ transform: translateY(-2px); box-shadow: 0 12px 24px rgba(108,43,217,.14); background:#fbfaff; }
.item.done{ border-color:#bbf7d0; background:#f0fdf4; }
.item.done .item-header::before{ content:"✅"; margin-right:8px; }

.item-header{ display:flex; align-items:center; gap:8px; font-weight:700; color:#2b1a6a; }
.item-header::before{ content:"📘"; }
.item[data-kind="quiz"] .item-header::before{ content:"📝"; }

.item-tags{ display:flex; gap:8px; flex-wrap:wrap; }
.pill{
  font-size:12px; padding:6px 8px; border-radius:999px;
  background:#f3f0ff; border:1px solid #e8e1ff; color:#5a3ab3; font-weight:600;
}
.pill.diff-1{ background:#e6f7ff; border-color:#bae6fd; color:#0369a1; }
.pill.diff-2{ background:#fff7ed; border-color:#fed7aa; color:#a16207; }
.pill.diff-3{ background:#fef2f2; border-color:#fecaca; color:#b91c1c; }

.row{ display:flex; align-items:center; gap:10px; }
.row > a{ color: var(--brand); font-weight:700; text-underline-offset: 2px; }
.row > button{
  background:#f5f3ff; border:1px solid #e8e1ff; color:#4c1d95;
  padding:8px 10px; border-radius:10px; cursor:pointer; font-weight:700;
  transition: background .18s, transform .12s;
}
.row > button:hover{ background:#eee7ff; transform: translateY(-1px); }

/* Tooltip / popup (uses data-info attribute) */
.item::after{
  content: attr(data-info);
  position:absolute; left:16px; bottom: calc(100% + 10px);
  padding:10px 12px; font-size:12.5px; font-weight:600; line-height:1.2;
  color:#fff; background:#3b1c91; border:1px solid #6d28d9; border-radius:10px;
  opacity:0; transform: translateY(6px); pointer-events:none;
  white-space: nowrap; box-shadow: 0 10px 22px rgba(59,28,145,.25);
  transition: opacity .18s ease, transform .18s ease;
}
.item:hover::after{ opacity:1; transform: translateY(0); }

/* little arrow for tooltip */
.item::before{
  content:"";
  position:absolute; left:26px; bottom: calc(100% + 2px);
  border:7px solid transparent; border-top-color:#3b1c91;
  opacity:0; transform: translateY(6px); transition: opacity .18s, transform .18s;
}
.item:hover::before{ opacity:1; transform: translateY(0); }

/* Animations */
@keyframes fadeInUp { from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:none} }

/* Responsive */
@media (max-width: 640px){
  .row{ flex-wrap:wrap; }
  .item{ grid-template-columns: 1fr; }
  .progress-row{ flex-direction: column; align-items: stretch; gap:10px; }
}
